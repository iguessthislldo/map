<!DOCTYPE html>
<html lang="en">

<head>
    <title>WotUS Map</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css">
    <link rel="stylesheet" href="http://labs.easyblog.it/maps/leaflet-search/src/leaflet-search.css">
    <link rel="stylesheet" href="css/locationfilter.css">
    <link rel="stylesheet" href="js/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="css/material.min.css">
    <link rel="stylesheet" href="css/default.css" type="text/css">

    <style>
    html, body {
        margin: 0px;
        padding: 0px;
        height: 100%;
    }

    #mapid {
        width: 100%;
        height: 100%;
    }

    .search-input {
        font-family:Courier
    }
    .search-input,
    .leaflet-control-search {
        max-width:400px;
    }
    </style>

</head>

<body id="mdl-overrides">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">Project WotUS</span>
                <div class="mdl-layout-spacer"></div>
                <nav class="mdl-navigation mdl-layout--large-screen-only">
                    <a class="mdl-navigation__link" href="#">Home</a>
                    <a class="mdl-navigation__link" href="src/about.html">About</a>
                </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">Project WotUS</span>
            <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="#">Home</a>
                <a class="mdl-navigation__link" href="src/about.html">About</a>
            </nav>
        </div>
    </div>
    <div id="mapid"></div>
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <script src="http://labs.easyblog.it/maps/leaflet-search/dist/leaflet-search.min.js"></script>
    <script src="js/locationfilter.js"></script>
    <script src="js/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script>

    //var mymap = L.map('mapid').setView([39.8282000, -98.5795000], 6);
    var mymap = L.map('mapid', {
        center: [39.0000085454, -89.9999783845],
        maxZoom: 14,
        minZoom: 11
    });


    L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; <a href="http://www.arcgis.com/home/item.html?id=30e5fe3149c34df1ba922e6f5bbf808f">Esri</a> &mdash; See credits | Search data &copy; <a href="https://nominatim.openstreetmap.org/">OpenStreetMap</a>',
        id: 'mapbox.streets'
    }).addTo(mymap);

    var maxBounds = L.latLngBounds(
        L.latLng(38.653955, -90.278200), //Southwest Madison County Bounds
        L.latLng(39.002185, -89.591555) //Northeast Madison County Bounds
    );
    mymap.setMaxBounds(maxBounds);
    mymap.fitBounds(maxBounds);

    mymap.addControl( new L.Control.Search({
        url: 'http://nominatim.openstreetmap.org/search?format=json&q={s}',
        jsonpParam: 'json_callback',
        propertyName: 'display_name',
        propertyLoc: ['lat','lon'],
        marker: L.circleMarker([0,0],{radius:7}),
        autoCollapse: true,
        autoType: false,
        minLength: 2,
        position: "bottomleft"
    }) );

    mymap.zoomControl.setPosition('bottomleft');


    // Add WotUS Tiles
    var tile_options = {
        tms: true,
        opacity: 1,
        attribution: "",
        maxNativeZoom: 13
    };
    var lyr20k = L.tileLayer('tiles/20000_wotus_tiles/{z}/{x}/{y}.png', tile_options);
    var lyr15k = L.tileLayer('tiles/15000_wotus_tiles/{z}/{x}/{y}.png', tile_options);
    var lyr10k = L.tileLayer('tiles/10000_wotus_tiles/{z}/{x}/{y}.png', tile_options);
    var lyr5k = L.tileLayer('tiles/5000_wotus_tiles/{z}/{x}/{y}.png', tile_options);

    var overlaymaps = {
        "20,000": lyr20k,
        "15,000": lyr15k,
        "10,000": lyr10k,
        "5,000": lyr5k
    };

    var groupedOverlays = {
        "Q/Threshold": overlaymaps
    };

    L.control.groupedLayers([], groupedOverlays, {
        exclusiveGroups: ["Q/Threshold"],
        collapsed: false,
        position: "bottomright"
    }).addTo(mymap);
    //L.control.layers([], overlaymaps, {collapsed: false}).addTo(mymap);

    </script>

</body>

</html>
